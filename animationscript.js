let container=document.getElementById("homepageTitleDiv");import*as e from"three";import{TextGeometry as t}from"three/addons/geometries/TextGeometry.js";import{FontLoader as n}from"three/addons/loaders/FontLoader.js";let scene=new e.Scene,dLight=new e.RectAreaLight(backgroundC,5,100,100);dLight.position.y=-1,dLight.lookAt(0,0,0),scene.add(dLight);let light=new e.PointLight(16777215,500,0,1.5);light.position.set(0,0,20),scene.add(light);let lightAround=new e.AmbientLight(16777215,2);scene.add(lightAround);let camera=new e.PerspectiveCamera(50,container.offsetWidth/container.offsetHeight,.1,1e3),renderer=new e.WebGLRenderer({antialias:!0});renderer.setSize(container.offsetWidth,container.offsetHeight),renderer.setClearColor(backgroundC,1),renderer.setPixelRatio(window.devicePixelRatio),window.scrollTo(0,0);let loader=new n;loader.load("https://esm.sh/@compai/font-montserrat/data/typefaces/normal-700.json",function(n){loadedFont=n;let a=new t("n",{font:n,size:80,depth:25,curveSegments:100,bevelEnabled:!1,bevelThickness:5,bevelSize:0,bevelOffset:0,bevelSegments:10});textMaterial=new e.MeshStandardMaterial({color:16777215,roughness:1,metalness:.7}),(textMesh=new e.Mesh(a,textMaterial)).position.set(0,0,0),a.computeBoundingBox(),a.boundingBox&&a.translate(-a.boundingBox.max.x/2,0,0),scene.add(textMesh)});let firstFuncSetup=()=>{alpha=Math.PI/180*15,rX=42,rY=110,xDif=0,yDif=-25,rDif=-1,camera.position.x=40,camera.position.y=-5,camera.position.z=40},firstFunc=()=>{let t=Math.cos(alpha+2*Math.PI/360)*(rX+rDif)+xDif,n=Math.sin(alpha+2*Math.PI/360)*(rY+rDif)+yDif;return camera.lookAt(new e.Vector3(t,n,36)),camera.position.x=Math.cos(alpha)*rX+xDif,camera.position.y=Math.sin(alpha)*rY+yDif,camera.up.set(0,1,0).applyQuaternion(camera.quaternion),(alpha+=Math.PI/360)<.3*Math.PI},secondFuncSetup=()=>{alpha=0,rX=2,rY=50,xDif=7,yDif=-30,rDif=2,camera.position.z=12.5,camera.up.set(0,1,0)},secondFunc=()=>{let t=Math.cos(alpha+Math.PI/360)*(rX+rDif)+xDif,n=Math.sin(alpha+Math.PI/360)*(rY+rDif)+yDif;return camera.lookAt(new e.Vector3(t,n,12.5)),camera.position.x=Math.cos(alpha)*rX+xDif,camera.position.y=Math.sin(alpha)*rY+yDif,camera.up.set(0,1,0).applyQuaternion(camera.quaternion),(alpha+=Math.PI/90)<.7*Math.PI},thirdFuncSetup=()=>{xDif=-10,zDif=-10,camera.position.x=40,camera.position.y=15,camera.position.z=40,camera.up.set(0,1,0)},thirdFunc=()=>(camera.lookAt(new e.Vector3(0,0,0)),camera.position.y-=.5,camera.position.x+=.2,camera.position.y>-10),lastFuncSetup=()=>{alpha=0,textMesh.geometry.dispose();let n=80*window.innerWidth/1700;textMesh.geometry=new t("never just a studio",{font:loadedFont,size:n,depth:1,curveSegments:100,bevelEnabled:!1,bevelThickness:5,bevelSize:0,bevelOffset:0,bevelSegments:10}),textMesh.geometry.computeBoundingBox(),textMesh.geometry.boundingBox&&textMesh.geometry.translate(-textMesh.geometry.boundingBox.max.x/2,0,0),textMesh.position.y+=5,camera.position.x=0,camera.position.y=50,camera.position.z=100,camera.lookAt(new e.Vector3(0,camera.position.y,0)),camera.up.set(0,1,0)};var textMesh,textMaterial,loadedFont,alpha,rX,rY,xDif,zDif,yDif,rDif,changeSize=.5;let lastFunc=()=>(changeSize=Math.cbrt(changeSize**2.2),textMesh.scale.x*=changeSize,textMesh.scale.y*=changeSize,camera.position.y*=changeSize,camera.lookAt(new e.Vector3(0,camera.position.y,0)),textMesh.scale.x>1/8);var setups=[firstFuncSetup,secondFuncSetup,thirdFuncSetup,lastFuncSetup],animations=[firstFunc,secondFunc,thirdFunc,lastFunc],index=0;function animate(e){animations[index]()||(index+1<setups.length?(setups[++index](),animations[index]()):renderer.setAnimationLoop(null)),renderer.render(scene,camera)}setups[index](),animations[index]();var animating=!1;function startAnimation(e){animating||(e.preventDefault(),container.removeChild(document.getElementById("removeText")),container.appendChild(renderer.domElement),animating=!0,renderer.setAnimationLoop(animate))}container.addEventListener("click",startAnimation),document.body.addEventListener("keydown",startAnimation);
